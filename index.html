<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RentWise</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 24 24%22 fill=%22%23003580%22><path d=%22M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z%22/></svg>">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Подключаем Leaflet для карты -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'booking-dark': '#003580',
                        'booking-light': '#00aeff',
                    },
                    fontFamily: {
                        'poppins': ['Poppins', 'sans-serif'],
                    },
                    screens: {
                        '2xl': '1536px',
                        '3xl': '1920px',
                        '4xl': '2560px',
                        '5xl': '3840px', // 4K
                    }
                }
            }
        }
    </script>
    <style>
        body {
            font-family: 'Poppins', sans-serif;
            margin: 0;
            padding: 0;
            color: #333;
            background-color: #f8fafc;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
            overflow-x: hidden; /* Prevent horizontal scroll */
        }
        
        /* Вертикальный блок новостей - добавлены классы Tailwind для лучшей адаптивности */
        .main-content-wrapper {
            display: flex;
            flex-direction: column;
            width: 100%;
            max-width: 1600px;
            margin: 0 auto;
            padding: 0 15px;
        }
        
        /* Адаптивная раскладка для разных экранов */
        @media (min-width: 1024px) {
            .main-content-wrapper {
                flex-direction: row;
            }
        }
        
        /* Оптимизация для очень широких экранов */
        @media (min-width: 1920px) {
            body {
                font-size: calc(16px + 0.2vw);
            }
            
            .container {
                max-width: 80%;
            }
        }
        
        /* Оптимизация для 4K мониторов */
        @media (min-width: 3840px) {
            body {
                font-size: calc(18px + 0.3vw);
            }
            
            .main-content-wrapper {
                max-width: 80%;
                margin: 0 auto;
            }
            
            .news-sidebar {
                width: 20%;
            }
            
            .container {
                max-width: 70%;
            }
        }
        
        .news-sidebar {
            padding: 20px;
            background: white;
            border-radius: 12px;
            margin-right: 20px;
            margin-top: 10px;
            box-shadow: 0 5px 20px rgba(0, 53, 128, 0.1);
            align-self: flex-start;
        }
        
        .news-sidebar h3 {
            color: #003580;
            font-size: 18px;
            margin-top: 0;
            padding-bottom: 15px;
            border-bottom: 2px solid #f0f7ff;
            margin-bottom: 20px;
            font-weight: 600;
        }
        
        .news-card {
            margin-bottom: 25px;
            border-radius: 8px;
            overflow: hidden;
            background: #f8fafc;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.05);
            transition: all 0.3s ease;
        }
        
        .news-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 7px 20px rgba(0, 53, 128, 0.15);
        }
        
        .news-image {
            width: 100%;
            height: 160px;
            overflow: hidden;
            position: relative;
        }
        
        .news-image img, .news-image video, .news-image iframe {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
        }
        
        .news-text {
            padding: 15px;
        }
        
        .news-text p {
            margin: 0;
            font-size: 14px;
            line-height: 1.4;
            color: #444;
        }
        
        .news-placeholder {
            background: #edf2f7;
            height: 160px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #a0aec0;
            font-size: 12px;
        }
        
        /* Новостной слайдер */
        .news-ticker {
            background: linear-gradient(135deg, #002d69 0%, #00509d 100%);
            color: white;
            padding: 12px 0;
            overflow: hidden;
            position: relative;
            width: 100%;
        }
        
        .news-ticker-container {
            display: flex;
            position: relative;
            width: 100%;
            overflow: hidden;
        }
        
        .news-ticker-content {
            display: inline-flex;
            white-space: nowrap;
            padding-right: 50px; /* Пространство между повторами */
        }
        
        @keyframes ticker {
            0% { transform: translateX(0); }
            100% { transform: translateX(-100%); }
        }
        
        .news-item {
            padding: 0 30px;
            display: inline-flex;
            align-items: center;
            flex-shrink: 0;
        }
        
        .news-item:before {
            content: '•';
            margin-right: 10px;
            color: #00aeff;
            font-size: 1.5em;
            flex-shrink: 0;
        }
        
        @keyframes ticker {
            0% { transform: translateX(0); }
            100% { transform: translateX(-100%); }
        }
        
        /* Адаптивный дизайн */
        @media (max-width: 992px) {
            .container {
                max-width: 95%;
                margin: 10px auto;
            }
            
            .amount {
                font-size: 42px;
            }
        }
        
        @media (max-width: 768px) {
            .header h1 {
                font-size: 24px;
            }
            
        .container {
            max-width: 70%;
        }
    }
    
    .news-sidebar {
        padding: 20px;
        background: white;
        border-radius: 12px;
        margin-right: 20px;
        margin-top: 10px;
        box-shadow: 0 5px 20px rgba(0, 53, 128, 0.1);
        align-self: flex-start;
    }
    
    .news-sidebar h3 {
        color: #003580;
        font-size: 18px;
        margin-top: 0;
        padding-bottom: 15px;
        border-bottom: 2px solid #f0f7ff;
        margin-bottom: 20px;
        font-weight: 600;
    }
    
    .news-card {
        margin-bottom: 25px;
        border-radius: 8px;
        overflow: hidden;
        background: #f8fafc;
        box-shadow: 0 3px 10px rgba(0, 0, 0, 0.05);
        transition: all 0.3s ease;
    }
    
    .news-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 7px 20px rgba(0, 53, 128, 0.15);
    }
    
    .news-image {
        width: 100%;
        height: 160px;
        overflow: hidden;
        position: relative;
    }
    
    .news-image img, .news-image video, .news-image iframe {
        width: 100%;
        height: 100%;
        object-fit: cover;
        display: block;
    }
    
    .news-text {
        padding: 15px;
    }
    
    .news-text p {
        margin: 0;
        font-size: 14px;
        line-height: 1.4;
        color: #444;
    }
    
    .news-placeholder {
        background: #edf2f7;
        height: 160px;
        display: flex;
        align-items: center;
        justify-content: center;
        color: #a0aec0;
        font-size: 12px;
    }
    
    /* Новостной слайдер */
    .news-ticker {
        background: linear-gradient(135deg, #002d69 0%, #00509d 100%);
        color: white;
        padding: 12px 0;
        overflow: hidden;
        position: relative;
        width: 100%;
    }
    
    .news-ticker-container {
        display: flex;
        position: relative;
        width: 100%;
        overflow: hidden;
    }
    
    .news-ticker-content {
        display: inline-flex;
        white-space: nowrap;
        padding-right: 50px; /* Пространство между повторами */
    }
    
    @keyframes ticker {
        0% { transform: translateX(0); }
        100% { transform: translateX(-100%); }
    }
    
    .news-item {
        padding: 0 30px;
        display: inline-flex;
        align-items: center;
        flex-shrink: 0;
    }
    
    .news-item:before {
        content: '•';
        margin-right: 10px;
        color: #00aeff;
        font-size: 1.5em;
        flex-shrink: 0;
    }
    
    @keyframes ticker {
        0% { transform: translateX(0); }
        100% { transform: translateX(-100%); }
    }
    
    /* Адаптивный дизайн */
    @media (max-width: 992px) {
        .container {
            max-width: 95%;
            margin: 10px auto;
        }
        
        .amount {
            font-size: 42px;
        }
    }
    
    @media (max-width: 768px) {
        .header h1 {
            font-size: 24px;
        }
        
        .logo {
            font-size: clamp(28px, 2vw + 10px, 38px);
        }
        
        .rent-input {
            padding: min(25px, 3vh) min(15px, 2vw);
            text-align: center;
        }
        
        .news-item {
            padding: 0 20px;
        }
    }
    
    /* Базовые медиа-запросы для совместимости с Tailwind */
    @media (max-width: 480px) {
        .input-group {
            flex-direction: column;
            border-radius: 8px;
            overflow: hidden;
        }
        
        .input-group input {
            border-radius: 8px 8px 0 0;
            text-align: center;
        }
        
        .input-group button {
            border-radius: 0 0 8px 8px;
            padding: 15px;
        }
        
        .amount {
            font-size: 36px;
        }
        
        .results {
            padding: 25px 15px;
        }
        
        .header h1 {
            font-size: 20px;
            padding: 0 10px;
        }
    }
    
    .container {
        flex: 1;
        max-width: min(80%, 1400px);
        padding: 0;
        border-radius: max(0.75rem, 0.75vw);
        overflow: hidden;
        box-shadow: 0 0.5vw 1.5vw rgba(0, 53, 128, 0.1);
        background: white;
    }
    
    .header {
        text-align: center;
        padding: min(40px, 4vh) min(20px, 2vw) min(30px, 3vh);
        background: linear-gradient(135deg, #003580 0%, #0066b2 100%);
        color: white;
        margin-bottom: 0;
        position: relative;
        overflow: hidden;
    }
    
    .header:before {
        content: '';
        position: absolute;
        top: -50%;
        left: -50%;
        width: 200%;
        height: 200%;
        background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0) 70%);
        opacity: 0.6;
        animation: rotate 25s linear infinite;
        pointer-events: none;
    }
    
    @keyframes rotate {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
    }
    
    .logo {
        font-size: clamp(38px, 2vw + 20px, 64px);
        font-weight: 700;
        margin-bottom: min(10px, 1vh);
        color: white;
        display: inline-block;
    }
    
    .logo span {
        color: #00aeff;
        font-weight: 800;
    }
    
    /* Удаляем дубликат стилей */
    
    .ip-value {
        font-weight: bold;
        color: black;
        background: rgba(255, 255, 255, 0.95);
        padding: 8px 15px;
        border-radius: 6px;
        font-family: monospace;
        letter-spacing: 1px;
        box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
        display: block;
        margin-top: 10px;
        font-size: 24px; /* Увеличено в два раза */
        text-align: center;
        width: auto;
    }
    
    .rent-input {
        background: white;
        padding: min(30px, 3vh) min(20px, 2vw);
        border-radius: 0;
        position: relative;
        text-align: center;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.05);
    }
    
    .rent-input h3 {
        font-size: 26px;
        color: #003580;
        margin-bottom: 20px;
        font-weight: 600;
        position: relative;
    }
    
    .rent-input h3:after {
        content: '';
        position: absolute;
        bottom: -8px;
        left: 50%;
        transform: translateX(-50%);
        width: 80px;
        height: 3px;
        font-family: 'Poppins', sans-serif;
        transition: all 0.3s ease;
    }
    
    .input-group button {
        background: linear-gradient(135deg, #003580 0%, #00509d 100%);
        color: white;
        border: none;
        padding: 18px 25px;
        font-size: 16px;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        font-family: 'Poppins', sans-serif;
    }
    
    .input-group button:hover {
        transform: translateY(-2px);
    }
    
    .results {
        background: linear-gradient(135deg, #e6f0ff 0%, #f0f7ff 100%);
        padding: 40px 20px;
        border-radius: 12px;
        text-align: center;
        margin: 20px;
        box-shadow: 0 5px 25px rgba(0, 53, 128, 0.12);
        transform: translateY(20px);
        opacity: 0;
        transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    }
    
    .results.visible {
        transform: translateY(0);
        opacity: 1;
    }
    
    .amount {
        font-size: 54px;
        font-weight: 700;
        color: #003580;
        text-shadow: 0 2px 8px rgba(0, 53, 128, 0.2);
        margin: 15px 0;
        animation: pulse 1.5s infinite alternate ease-in-out;
        position: relative;
        display: inline-block;
    }
    
    /* Подсветка для суммы */
    .amount:before {
        content: '';
        position: absolute;
        width: 120%;
        height: 120%;
        left: -10%;
        top: -10%;
        background: radial-gradient(circle, rgba(0,174,255,0.2) 0%, rgba(255,255,255,0) 70%);
        border-radius: 50%;
        z-index: -1;
        animation: glow 3s infinite alternate ease-in-out;
    }
    
    @keyframes glow {
        0% { transform: scale(0.95); opacity: 0.7; }
        100% { transform: scale(1.05); opacity: 1; }
    }
    
    h1 {
        font-size: 32px;
        font-weight: 600;
        margin: 10px 0 20px;
        transition: all 0.3s ease;
    }
    
    .results h3 {
        font-size: 26px;
        color: #003580;
        margin-bottom: 15px;
        font-weight: 600;
    }
    
    @keyframes pulse {
        0% { transform: scale(1); }
        100% { transform: scale(1.05); }
    }
    
    /* Стили для запасного изображения при отсутствии интернета */
    .fallback-image {
        display: flex;
        align-items: center;
        justify-content: center;
        background-color: #f0f7ff;
        color: #003580;
        font-size: 14px;
        text-align: center;
        padding: 10px;
    }
</style>
</head>
<body>
    <!-- Новостной слайдер -->
    <div class="news-ticker w-full">
        <div class="news-ticker-container">
            <div class="news-ticker-content">
                <div class="news-item text-sm md:text-base">Apartment prices in downtown area increased by 15% in last month</div>
                <div class="news-item text-sm md:text-base">Rental market sees unprecedented demand in city centers</div>
                <div class="news-item text-sm md:text-base">New study reveals 40% of tenants overpay on their rent</div>
                <div class="news-item text-sm md:text-base">Housing authorities announce new regulations for landlords</div>
                <div class="news-item text-sm md:text-base">Average rent for studios up 12% since beginning of year</div>
                <div class="news-item text-sm md:text-base">Experts predict rental costs will continue to rise through the next quarter.</div>
                <div class="news-item text-sm md:text-base">New co-living spaces offer an affordable alternative for young professionals.</div>
                <div class="news-item text-sm md:text-base">The rise of remote work is shifting rental demand from big cities to suburban areas.</div>
                <div class="news-item text-sm md:text-base">Government subsidies for renters are being debated in several states.</div>
            </div>
        </div>
    </div>
    
    <div class="main-content-wrapper">
        <!-- Вертикальный блок новостей -->
        <div class="news-sidebar md:sticky md:top-5 lg:w-80 w-full mb-4 lg:mb-0">
            <div class="flex justify-between items-center">
                <h3 class="text-booking-dark font-semibold">Latest News</h3>
                <a href="https://x.com/rentwise_sol" target="_blank" rel="noopener noreferrer">
                    <svg class="h-12 w-12 text-booking-dark hover:opacity-80 transition-opacity" fill="currentColor" viewBox="0 0 24 24"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg>
                </a>
            </div>
            
            <!-- Первая новость с данными от пользователя -->
            <div class="news-card transform transition-all hover:-translate-y-1 hover:shadow-lg">
                <div class="news-image h-40 md:h-40 lg:h-40 xl:h-48 2xl:h-56 4xl:h-64">
                    <img class="w-full h-full object-cover" onerror="this.onerror=null; this.parentNode.innerHTML='<div class=\'fallback-image h-full w-full\'>News Image<br>Currently Unavailable</div>';" src="https://media3.giphy.com/media/v1.Y2lkPTc5MGI3NjExYTRqMmdsYWE5Z2Y5YjF0cmVoaWRmNTNpNTU2dDJvaG1yYzIzMWgydSZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/3o6ZsVbs2GzgKNvVpS/giphy.gif" alt="Trump gif" onerror="this.onerror=null; this.parentNode.innerHTML='<div class=\'fallback-image h-full w-full\'>News Image<br>Currently Unavailable</div>';">
                </div>
                <div class="news-text">
                    <p class="text-sm md:text-base 2xl:text-lg 4xl:text-xl text-gray-700">Trump claims he doesn't know how to reduce rental prices</p>
                </div>
            </div>
            
            <!-- Вторая новость с данными от пользователя -->
            <div class="news-card transform transition-all hover:-translate-y-1 hover:shadow-lg">
                <div class="news-image">
                    <img class="w-full h-full object-cover" onerror="this.onerror=null; this.parentNode.innerHTML='<div class=\'fallback-image h-full w-full\'>News Image<br>Currently Unavailable</div>';" src="https://media3.giphy.com/media/v1.Y2lkPTc5MGI3NjExcWJsYWQ4NXUyNWMzeTlqaTJpNTBmend6djltNXMybzQ2NWRjdTRkeSZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/P9iws4imseYNg5KkhQ/giphy.gif" alt="Chicago rent defaults gif">
                </div>
                <div class="news-text">
                    <p class="text-sm text-gray-700">Chicago residents among top states for rental payment defaults</p>
                </div>
            </div>
            
            <!-- Третья новость с данными от пользователя -->
            <div class="news-card transform transition-all hover:-translate-y-1 hover:shadow-lg">
                <div class="news-image">
                    <img class="w-full h-full object-cover" onerror="this.onerror=null; this.parentNode.innerHTML='<div class=\'fallback-image h-full w-full\'>News Image<br>Currently Unavailable</div>';" src="https://media2.giphy.com/media/v1.Y2lkPTc5MGI3NjExbm0xdnJ1cTZ4NWxsdXhrMjhocDQ5bXN2OXZ3ZGloMXdiZjBuaHA0ayZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/8nGMx6gtv7dl3lCixa/giphy.gif" alt="Homeless Americans gif">
                </div>
                <div class="news-text">
                    <p class="text-sm text-gray-700">More Americans are facing homelessness than ever before</p>
                </div>
            </div>
        </div>
        
        <div class="container lg:flex-1 w-full">
        <div class="header">
            <div class="logo text-2xl md:text-3xl lg:text-4xl"><span>Rent</span>Rage</div>
            <h1 class="text-xl md:text-2xl lg:text-3xl px-4 md:px-8">Are You Overpaying For Your Apartment?</h1>
            <p class="text-sm md:text-base opacity-80 mt-2">Find out instantly how much you could be saving</p>
        </div>

        <div class="ip-display relative overflow-hidden h-72 md:h-80 lg:h-96 xl:h-[30vh] 2xl:h-[35vh] 4xl:h-[40vh]">
            <!-- Карта как фон -->
            <div id="map" class="absolute inset-0 z-0 rounded-lg"></div>
            
            <!-- Темный полупрозрачный оверлей на карте -->
            <div class="absolute inset-0 bg-black bg-opacity-30 z-10"></div>
            
            <!-- Содержимое с IP адресом поверх карты -->
            <div class="relative z-20 p-6 flex flex-col items-center justify-center h-full">
                <p class="text-xl md:text-2xl font-medium text-white mb-2">
                    Your IP Address:
                </p>
                <span id="user-ip" class="ip-value text-3xl md:text-4xl 2xl:text-5xl 4xl:text-6xl text-black font-bold mb-2 bg-white bg-opacity-90 px-4 py-2 rounded-lg">185.82.219.66</span>
                <p class="text-base md:text-lg text-white mt-4 opacity-90">
                    Location: <span id="location-info" class="font-medium">Loading...</span>
                </p>
            </div>
        </div>

        <div class="rent-input">
            <h3 class="text-xl md:text-2xl font-semibold">Enter Your Monthly Rent</h3>
            <div class="input-group max-w-full md:max-w-md lg:max-w-lg mx-auto">
                <input type="number" id="rent-amount" placeholder="Enter your rent amount" value="2500" class="w-full md:w-auto lg:flex-1 border-2 border-booking-dark rounded-none focus:outline-none focus:ring-2 focus:ring-booking-light">
                <button id="calculate-button" class="px-6 py-4 md:py-4 md:px-8 text-white bg-gradient-to-r from-booking-dark to-booking-light hover:shadow-lg transition-all duration-300">Calculate</button>
            </div>
        </div>

        <div class="results rounded-xl shadow-lg" id="results">
            <h3 class="text-xl md:text-2xl font-semibold">Your Results</h3>
            <p class="text-base md:text-lg my-2">You're <span id="status" class="font-medium">overpaying</span> by</p>
            <div class="amount text-3xl md:text-5xl lg:text-6xl font-bold text-booking-dark">
                $<span id="difference">0</span><span class="per-month text-sm md:text-base opacity-80">/month</span></div>
            <style>
                .per-month {
                    font-size: 0.4em;
                    opacity: 0.8;
                    vertical-align: middle;
                }
            </style>
            <p class="text-lg md:text-xl mt-3">That's <strong class="text-booking-dark">$<span id="annual">0</span></strong> per year!</p>
            
            <!-- Кнопка CTA -->
            <div class="mt-6 mb-4">
                <button id="cta-button" class="px-6 py-4 text-white bg-gradient-to-r from-green-600 to-green-400 hover:shadow-lg rounded-lg text-lg font-semibold transform transition-all hover:-translate-y-1">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 inline-block mr-2" viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd" d="M5.293 9.707a1 1 0 010-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 01-1.414 1.414L11 7.414V15a1 1 0 11-2 0V7.414L6.707 9.707a1 1 0 01-1.414 0z" clip-rule="evenodd" />
                    </svg>
                    I Want to Pay Less
                </button>
            </div>

            <!-- Savings Goals Section -->
            <div class="mt-8 pt-6 border-t border-gray-200">
                <h4 class="text-lg font-semibold text-gray-700 mb-4 text-center">With your savings, you could get:</h4>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4 text-center">
                    <div class="p-4 bg-blue-50 rounded-lg shadow-sm transform transition-all hover:scale-105">
                        <span class="text-4xl">💻</span>
                        <p class="mt-2 font-semibold text-booking-dark">A New Laptop</p>
                    </div>
                    <div class="p-4 bg-green-50 rounded-lg shadow-sm transform transition-all hover:scale-105">
                        <span class="text-4xl">✈️</span>
                        <p class="mt-2 font-semibold text-booking-dark">A Dream Vacation</p>
                    </div>
                    <div class="p-4 bg-yellow-50 rounded-lg shadow-sm transform transition-all hover:scale-105">
                        <span class="text-4xl">📈</span>
                        <p class="mt-2 font-semibold text-booking-dark">A Head Start on Investments</p>
                    </div>
                </div>
            </div>
        </div>

        <div class="mt-10 pt-8 border-t border-gray-200 text-left">
            <h3 class="text-2xl font-bold text-booking-dark mb-4">The Challenge of Rising Rent Prices</h3>
            <p class="text-gray-600 leading-relaxed mb-4">
                Across the country, rental prices are surging, placing a heavy burden on millions of households. This isn't a simple issue of supply and demand; it's a complex crisis fueled by several interconnected factors. A chronic shortage of affordable housing, coupled with relentless demand in major urban centers, has created a landlord's market.
            </p>
            <p class="text-gray-600 leading-relaxed">
                Economic inflation further complicates the problem, driving up maintenance and operational costs for property owners, who then pass these expenses on to tenants. The result is a growing affordability gap, where wages fail to keep pace with the cost of living. This financial pressure forces many to make difficult choices, sacrificing savings, healthcare, and other essential needs to keep a roof over their heads, pushing many towards the brink of housing insecurity.
            </p>
        </div>

        <footer class="bg-booking-dark text-white p-4 mt-8 rounded-lg">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex justify-between items-center">
                <p class="text-sm text-gray-300">&copy; 2025 RentWise. All rights reserved.</p>
                <a href="https://x.com/rentwise_sol" target="_blank" rel="noopener noreferrer" class="text-gray-400 hover:text-white">
                    <span class="sr-only">X</span>
                    <svg class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                        <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/>
                    </svg>
                </a>
            </div>
        </footer>
        
        <!-- Модальное окно с советами -->
        <div id="tips-modal" class="fixed inset-0 z-50 hidden">
            <div class="absolute inset-0 bg-black bg-opacity-50"></div>
            <div class="relative z-10 bg-white max-w-lg xl:max-w-xl 3xl:max-w-2xl 4xl:max-w-4xl mx-auto mt-20 xl:mt-[10vh] rounded-xl shadow-2xl overflow-hidden">
                <div class="p-6">
                    <div class="flex justify-between items-center mb-4">
                        <h3 class="text-2xl font-bold text-booking-dark">How to Reduce Your Rent</h3>
                        <button id="close-modal" class="text-gray-500 hover:text-gray-700">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                            </svg>
                        </button>
                    </div>
                    
                    <div class="space-y-4">
                        <div class="tip-item p-3 bg-blue-50 rounded-lg">
                            <h4 class="font-semibold">Check Nearby Neighborhoods</h4>
                            <p>Areas just 10-15 minutes away from popular locations often have significantly lower rent prices.</p>
                        </div>
                        
                        <div class="tip-item p-3 bg-green-50 rounded-lg">
                            <h4 class="font-semibold">Negotiate Your Lease</h4>
                            <p>Many landlords are willing to lower the price to avoid vacancy, especially if you offer a longer lease term.</p>
                        </div>
                        
                        <div class="tip-item p-3 bg-yellow-50 rounded-lg">
                            <h4 class="font-semibold">Consider Getting a Roommate</h4>
                            <p>Sharing your apartment can cut your housing costs in half.</p>
                        </div>
                        
                        <div class="tip-item p-3 bg-purple-50 rounded-lg">
                            <h4 class="font-semibold">Look for Hidden Deals</h4>
                            <p>Check for apartments with move-in specials like "first month free" or reduced security deposits.</p>
                        </div>
                        
                        <div class="tip-item p-3 bg-pink-50 rounded-lg">
                            <h4 class="font-semibold">Time Your Move</h4>
                            <p>Winter months (especially January and February) often have the lowest rental prices of the year.</p>
                        </div>
                    </div>
                    
                    <div class="mt-6 text-center">
                        <button id="close-modal-btn" class="px-5 py-2 bg-booking-dark text-white rounded-lg hover:bg-booking-light transition-colors">
                            Got it, thanks!
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Very minimal script with direct DOM manipulation
        document.addEventListener('DOMContentLoaded', function() {
            // Get visitor's IP using a simple API with fallback
            const ipDisplay = document.getElementById('user-ip');
            
            // Функция-заглушка для случаев отсутствия интернета
            function setupFallbackMapAndIp() {
                ipDisplay.textContent = "Offline Mode";
                document.getElementById('location-info').textContent = "No internet connection";
                
                // Создаём заглушку вместо карты
                const mapElement = document.getElementById('map');
                mapElement.innerHTML = `<div class="absolute inset-0 bg-gray-200 flex items-center justify-center text-booking-dark text-lg">Map unavailable in offline mode</div>`;
            }
            
            try {
                // Fetch IP and location data from a single, secure endpoint
                fetch('https://ipapi.co/json/')
                    .then(response => {
                        if (!response.ok) {
                            throw new Error('Network response was not ok');
                        }
                        return response.json();
                    })
                    .then(data => {
                        const userIp = data.ip;
                        const ipDisplay = document.getElementById('user-ip');
                        ipDisplay.textContent = userIp;

                        // Display location information
                        const locationElement = document.getElementById('location-info');
                        if (data.city && data.country_name) {
                            locationElement.textContent = `${data.city}, ${data.country_name}`;
                        } else {
                            locationElement.textContent = "Unknown location";
                        }

                        // Get coordinates and create map
                        if (data.latitude && data.longitude) {
                            const lat = data.latitude;
                            const lng = data.longitude;

                            // Create map
                            const map = L.map('map').setView([lat, lng], 10);

                            // Add OpenStreetMap layer
                            L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                                maxZoom: 19,
                                attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
                            }).addTo(map);

                            // Add location marker
                            const marker = L.marker([lat, lng]).addTo(map);
                            marker.bindPopup(`<b>${data.city}, ${data.country_name}</b><br>IP: ${userIp}`).openPopup();

                            // Handle window resize
                            window.addEventListener('resize', () => {
                                map.invalidateSize();
                            });
                        } else {
                            // If no coordinates, show fallback map
                            document.getElementById('map').innerHTML = '<div class="flex items-center justify-center h-full bg-gray-100 text-gray-400">Map data unavailable</div>';
                        }
                    })
                    .catch(error => {
                        console.error('Error fetching IP and location:', error);
                        setupFallbackMapAndIp(); // Use fallback for any fetch error
                    });
            } catch (error) {
                console.error("Critical error with fetch API:", error);
                setupFallbackMapAndIp();
            }

            // Setup calculate button
            document.getElementById('calculate-button').addEventListener('click', function() {
                const rentAmount = parseFloat(document.getElementById('rent-amount').value) || 2000;
                const averageRent = 2100; // Fixed value for demonstration
                
                // Special rule for rents under $2000
                let difference;
                if (rentAmount < 2000) {
                    difference = 200; // Always $200 overpay
                } else {
                    difference = rentAmount - averageRent;
                }
                
                // Update the UI
                const status = difference > 0 ? "overpaying" : "underpaying";
                document.getElementById('status').textContent = status;
                document.getElementById('difference').textContent = Math.abs(difference);
                document.getElementById('annual').textContent = Math.abs(difference) * 12;
                
                // Show results with animation
                const resultsElement = document.getElementById('results');
                resultsElement.style.display = 'block';
                
                // Trigger reflow for animation
                setTimeout(() => {
                    resultsElement.classList.add('visible');
                }, 50);
                
                // Scroll to results
                resultsElement.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
            });
        });
    </script>
    
    <!-- Дублируем бегущую строку для непрерывной анимации -->
    <script>
        // Настраиваем бесшовную анимацию новостной ленты
        document.addEventListener('DOMContentLoaded', function() {
            // Переменная для отслеживания инициализации бегущей строки
            let tickerInitialized = false;
            
            // Правильно настраиваем бегущую строку
            const setupNewsTicker = () => {
                // Проверяем, была ли уже инициализирована бегущая строка
                if (tickerInitialized) {
                    return; // Предотвращаем повторную инициализацию
                }
                
                const container = document.querySelector('.news-ticker-container');
                if (!container) return; // Безопасная проверка наличия контейнера
                
                const content = document.querySelector('.news-ticker-content');
                if (!content) return; // Безопасная проверка наличия контента
                
                // Помечаем, что бегущая строка инициализирована
                tickerInitialized = true;
                
                // Создаем клон с новым id
                const clone = content.cloneNode(true);
                clone.id = 'ticker-clone';
                
                // Очищаем содержимое контейнера для чистого старта
                container.innerHTML = '';
                
                // Добавляем оригинальный контент и клон
                container.appendChild(content);
                container.appendChild(clone);
                
                // Вычисляем ширину контента для анимации
                const contentWidth = content.offsetWidth;
                
                // Настраиваем скорость анимации в зависимости от ширины экрана
                const speed = window.innerWidth < 768 ? 25 : 50;
                const duration = contentWidth / speed;
                
                // Создаем анимацию с правильными задержками
                content.style.cssText = `display: inline-flex; transform: translateX(0); animation: ticker ${duration}s linear infinite;`;
                clone.style.cssText = `display: inline-flex; transform: translateX(${contentWidth}px); animation: ticker ${duration}s linear infinite; animation-delay: ${duration / 2}s;`;
            };
            
            // Запускаем настройку новостной ленты только один раз
            setupNewsTicker();
            
            // Настройка модального окна
            const modal = document.getElementById('tips-modal');
            const ctaButton = document.getElementById('cta-button');
            const closeModal = document.getElementById('close-modal');
            const closeModalBtn = document.getElementById('close-modal-btn');
            
            // Открытие модального окна при нажатии на кнопку CTA
            ctaButton.addEventListener('click', function() {
                modal.classList.remove('hidden');
                setTimeout(() => {
                    modal.classList.add('opacity-100');
                    modal.classList.add('animate-fadeIn');
                }, 10);
            });
            
            // Закрытие модального окна при нажатии на крестик
            closeModal.addEventListener('click', function() {
                modal.classList.add('hidden');
            });
            
            // Закрытие модального окна при нажатии на кнопку "Got it, thanks!"
            closeModalBtn.addEventListener('click', function() {
                modal.classList.add('hidden');
            });
            
            // Закрытие модального окна при клике за пределами окна
            window.addEventListener('click', function(event) {
                if (event.target === modal) {
                    modal.classList.add('hidden');
                }
            });
            
            // Автоматический запуск расчета с анимацией загрузки
            setTimeout(() => {
                // document.getElementById('calculate-button').classList.add('pulse-once');
                document.getElementById('calculate-button').click(); // Trigger calculation
            }, 500);
        });
    </script>
    
    <style>
        /* Дополнительные анимации */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes pulse-once {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); box-shadow: 0 10px 25px rgba(0, 53, 128, 0.25); }
            100% { transform: scale(1); }
        }
        
        .pulse-once {
            animation: pulse-once 1s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        
        .container {
            animation: fadeIn 0.8s ease-out;
        }
        
        .input-group input:focus {
            box-shadow: 0 0 0 3px rgba(0, 53, 128, 0.1);
        }
    </style>
</body>
</html>
